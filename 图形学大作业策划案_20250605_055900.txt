
==== 图形学大作业策划案补充与分工建议 ====

【项目名】《必死无疑》
【一句话总结】扮演一名求生者，在四面八方发射而来的弹幕中躲避，艰难求生。

==== 一、游戏基本玩法（策划案整理） ====

【操作方式】
- 键盘W/S或↑/↓上下移动（有限范围）
- 鼠标点击弹幕可销毁

【游戏机制】
- 每30s为一波，每波结束销毁所有弹幕（支持参数调整）
- 每波新增发射器（参数配置：初始数量、每波增加数量、发射间隔、子弹速度）
- 发射器固定分布在玩家为中心的圆柱面上，但其有一定间隔以防止子弹相互重叠。
- 玩家只能上下移动，有固定范围（PlayerHeight, MoveRange）
- 子弹匀速向中心飞行，仅在与玩家高度重合时判定命中

【血量与判定】
- 玩家最多被命中3次，计为失败
- 血量信息和波次倒计时 UI 显示
- 失败后禁用操作，可切换光照表现失败状态
- 玩家采用圆形包围盒围起来进行碰撞判定

【视觉反馈】
- 子弹销毁动画：颜色变红 + Scale 略变（体现反馈即可，参数可写死）
- 倒计时低于5秒时文本颜色、缩放动画提示（可选）

【相机】
- 支持固定角度范围（±30°）观察
- 支持 Zoom in/out、Orbit 等功能（基本要求）

==== 二、功能点 & 大作业评分点映射 ====

【基本要求评分点】（35分）
- ✅ 基本建模能力（使用球、方体、圆柱等构建玩家、子弹、场景）
- ✅ 支持OBJ导入导出（可设计角色OBJ模型序列）
- ✅ 材质、纹理支持（用于角色/子弹展示）
- ✅ 几何变换（上下移动、发射器绕圆柱分布）
- ✅ 光照支持（基本光源 + 失败时光照变化）
- ✅ 相机漫游控制（Zoom In/Out、Pan、Orbit 实现）
- ✅ 动画播放功能（使用OBJ多帧连续播放实现）
- ✅ 屏幕截图保存功能（按键导出当前帧图像）

【可选 EX 功能建议】
- ✅ 动画播放（使用OBJ帧序列实现失败动画、特殊动作）
- ✅ 高级光照/阴影（失败时切换红光、发射器点光源可探索）
- ✅ 场景编辑器（用IMGUI暴露参数如血量、波长、速度等）
- ✅ 中文文字渲染（UI中文显示：当前波次、血量、失败）

==== 三、动画播放功能详解 ====

【动画播放评分点说明】
> 多帧连续绘制指读取连续的OBJ文件，对其网格进行多次绘制；简单的平移、旋转、缩放不计入动画播放得分。

【误区】
❌ 子弹飞行 / 模型旋转 ≠ 动画播放（这些只是几何变换）

【正确做法】
✅ 使用Blender等软件导出OBJ序列（如run_001.obj ~ run_020.obj）
✅ 游戏中逐帧渲染这些模型（20fps）
✅ 实现OBJ加载器 + 帧计时器 + 网格缓存
✅ 可拓展为Morph动画（顶点插值）版本，挑战EX分

【屏幕截图功能】
✅ 使用OpenGL glReadPixels抓取当前帧图像
✅ 使用stb_image等库写入PNG文件

==== 四、建议分工（4人组建议） ====

👤 成员A（图形实现 & 渲染）
- 实现基础模型结构、光照、材质、纹理支持
- 实现OBJ导入导出
- 动画播放系统（帧序列播放或插值）

👤 成员B（游戏逻辑 & 控制）
- 播放器/子弹生成机制、移动控制、波次控制
- 撞击判定、血量逻辑、失败流程

👤 成员C（交互 & UI）
- 实现倒计时文字UI、血量UI
- 实现鼠标点击销毁弹幕
- 实现屏幕截图功能
- 中文文字支持

👤 成员D（相机 & EX 拓展）
- 实现相机自由观察（Zoom In/Out, Orbit）
- 添加EX功能如Morph动画、动态光照切换
- 添加IMGUI调参工具（用于演示、功能暴露）

==== 备注 ====
- 所有功能都需纳入update主循环统一调度
- 鼠标拾取需射线与子弹碰撞检测（基于空间）
- 项目结构建议模块化拆分 EntityManager / Renderer / UI / Logic 等
- 项目不允许用商业引擎，可使用GLFW + GLAD + stb_image + assimp等库

==== END ====
